(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],d=0,g=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&g.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(g.length)g.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"1dbf":function(e,t,r){},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[e.userId?r("v-toolbar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:"","max-height":"65"}},[r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.navigate()}}},[r("v-icon",[e._v(e._s("/"===e.$router.currentRoute.path?"mdi-home":"mdi-arrow-left"))])],1),r("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(this.name))])]),r("v-spacer"),r("typeOfUserSelection")],1):e._e(),r("router-view")],1)},s=[],o=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("v-select",{staticClass:"my-0",staticStyle:{width:"200px"},attrs:{"hide-details":"",items:e.shownRoles,value:e.currentRole,"item-value":"type","item-text":"title",light:"",solo:""},on:{change:e.changeRole}})],1)}),i=[],c=(r("4de4"),r("7db0"),r("caad"),r("2532"),r("96cf"),r("1da1")),l=(r("99af"),r("5530")),u=r("bc3a"),d=r.n(u),g="https://silma.herokuapp.com/api",m=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,s,o,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,a=i.length>2&&void 0!==i[2]&&i[2],e.prev=2,n=a?{"Content-Type":"multipart/form-data"}:{},s=r?{Authorization:"Bearer ".concat(r)}:{},e.next=7,d.a.get("".concat(g,"/").concat(t),{headers:Object(l["a"])({},n,{},s)});case 7:return o=e.sent,e.abrupt("return",o.data);case 11:throw e.prev=11,e.t0=e["catch"](2),console.error(e.t0.response.data),e.t0.response.data;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:void 0,n=c.length>3&&void 0!==c[3]&&c[3],e.prev=2,s=n?{"Content-Type":"multipart/form-data"}:{},o=a?{Authorization:"Bearer ".concat(a)}:{},e.next=7,d.a.post("".concat(g,"/").concat(t),r,{headers:Object(l["a"])({},s,{},o)});case 7:return i=e.sent,e.abrupt("return",i.data);case 11:throw e.prev=11,e.t0=e["catch"](2),console.error(e.t0.response.data),e.t0.response.data;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,s,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,a=c.length>2?c[2]:void 0,n=c.length>3&&void 0!==c[3]&&c[3],e.prev=3,s=n?{"Content-Type":"multipart/form-data"}:{},o=r?{Authorization:"Bearer ".concat(r)}:{},e.next=8,d.a.delete("".concat(g,"/").concat(t),{headers:Object(l["a"])({},s,{},o)},a);case 8:return i=e.sent,e.abrupt("return",i.data);case 12:throw e.prev=12,e.t0=e["catch"](3),console.error(e.t0.response.data),e.t0.response.data;case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),f={data:function(){return{items:[{title:"Escritor",type:"writer"},{title:"Lector",type:"reader"},{title:"Administrador",type:"admin"}],roles:[],currentRole:void 0}},created:function(){var e=this.$cookies.get("user_type");this.currentRole=this.items.find((function(t){return t.type===e})),this.updateRoles()},computed:{shownRoles:function(){var e=this;return this.items.filter((function(t){return e.roles.includes(t.type)}))}},methods:{updateRoles:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("user_id"),a=e.$cookies.get("token"),t.next=4,m("users/".concat(r),a);case 4:n=t.sent,e.roles=n.roles;case 6:case"end":return t.stop()}}),t)})))()},changeRole:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$cookies.set("user_type",e),t.currentRole=t.items.find((function(t){return t.type===e})),t.$router.go();case 3:case"end":return r.stop()}}),r)})))()}}},h=f,b=r("2877"),x=Object(b["a"])(h,o,i,!1,null,null,null),w=x.exports,k={components:{typeOfUserSelection:w},data:function(){return{userId:void 0,role:void 0,name:void 0}},created:function(){this.updateCookies()},watch:{$route:function(e,t){this.updateCookies()}},methods:{navigate:function(){"/"===this.$router.currentRoute.path?this.$router.go():this.$router.go(-1)},updateCookies:function(){this.userId=this.$cookies.get("user_id"),this.role=this.$cookies.get("user_type"),this.name=this.$cookies.get("user_name")}}},_=k,y=Object(b["a"])(_,n,s,!1,null,null,null),j=y.exports,R=(r("d81d"),r("45fc"),r("8c4f")),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Registro de Lector Beta")]),r("br"),r("v-form",{ref:"form"},[r("h2",{staticClass:"primary--text"},[e._v("Datos personales")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{outlined:"",label:"Nombre completo",rules:[e.requiredRule,e.letterRule]},model:{value:e.reader.name,callback:function(t){e.$set(e.reader,"name",t)},expression:"reader.name"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{outlined:"",rules:[e.requiredRule,e.emailRule],label:"E-mail"},model:{value:e.reader.email,callback:function(t){e.$set(e.reader,"email",t)},expression:"reader.email"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{outlined:"",label:"Contraseña",rules:[e.requiredRule,e.passwordMinRule],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",name:"input-10-1"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.reader.password,callback:function(t){e.$set(e.reader,"password",t)},expression:"reader.password"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("TimestampDateField",{attrs:{label:"Fecha de Nacimiento",icon:"event",rules:[e.requiredRule]},model:{value:e.reader.birthdate,callback:function(t){e.$set(e.reader,"birthdate",t)},expression:"reader.birthdate"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Teléfono celular",rules:[e.requiredRule,e.numericRule,e.phoneRule]},model:{value:e.reader.phone,callback:function(t){e.$set(e.reader,"phone",t)},expression:"reader.phone"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Link a perfil de facebook",rules:[e.requiredRule,e.facebookRule]},model:{value:e.reader.facebookLink,callback:function(t){e.$set(e.reader,"facebookLink",t)},expression:"reader.facebookLink"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{outlined:"",label:"Nacionalidad",items:e.countries,dense:"",rules:[e.requiredRule]},model:{value:e.reader.nationality,callback:function(t){e.$set(e.reader,"nationality",t)},expression:"reader.nationality"}})],1)],1),r("h2",{staticClass:"primary--text"},[e._v("Datos para Silma")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-select",{attrs:{outlined:"",label:"¿Quién te recomendo Silma?",items:e.administrators,dense:"",rules:[e.requiredRule]},model:{value:e.reader.recommended,callback:function(t){e.$set(e.reader,"recommended",t)},expression:"reader.recommended"}})],1),r("v-col",{attrs:{cols:"12",sm:"8"}},[r("v-radio-group",{attrs:{rules:[e.requiredRule],label:"¿Cuánto te tardas en leer 200 páginas?",row:""},model:{value:e.reader.readingProficiency,callback:function(t){e.$set(e.reader,"readingProficiency",t)},expression:"reader.readingProficiency"}},[r("v-radio",{attrs:{label:"3 días o menos",value:"3 or less",color:"success"}}),r("v-radio",{attrs:{label:"5 días",value:"4 to 6",color:"success"}}),r("v-radio",{attrs:{label:"7 días o más",value:"7 or more",color:"success"}})],1)],1)],1),r("h2",{staticClass:"primary--text"},[e._v("¿Entre que fechas puedes leer textos?")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("TimestampDateField",{attrs:{label:"Desde",icon:"event",rules:[e.requiredRule]},model:{value:e.reader.readFrom,callback:function(t){e.$set(e.reader,"readFrom",t)},expression:"reader.readFrom"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("TimestampDateField",{attrs:{label:"Hasta",icon:"event",rules:[e.requiredRule]},model:{value:e.reader.readTill,callback:function(t){e.$set(e.reader,"readTill",t)},expression:"reader.readTill"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("h2",{staticClass:"primary--text"},[e._v("Preferencias de textos")])]),e._l(e.genres,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[r("v-switch",{attrs:{label:t.name,color:"success",value:t.name},model:{value:e.preferencesNames,callback:function(t){e.preferencesNames=t},expression:"preferencesNames"}})],1)}))],2)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Lector Registrado!")]),r("v-card-text",[e._v("Serás reenviado a tu dashboard")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(e._s(e.errorMessage.title))]),r("v-card-text",[e._v(e._s(e.errorMessage.message))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{align:"end"}},[r("v-btn",{attrs:{color:"success"},on:{click:e.create}},[e._v("Registrarse")])],1)],1)],1)},C=[],E=r("b85c"),$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{value:e.computedDateFormattedMomentjs,clearable:"",readonly:"",label:e.label,rules:e.rules,icon:e.icon,outlined:""},on:{"click:clear":function(t){e.date=null},input:e.updateDate}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{"header-color":"green lighten-1",color:"green lighten-1"},on:{change:function(t){e.menu=!1},input:e.updateDate},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)},O=[],D=r("c1df"),P=r.n(D),T=r("b166"),M={data:function(){return{date:"",menu:!1}},props:["label","rules","icon"],computed:{computedDateFormattedMomentjs:function(){return this.date?P()(this.date).format("dddd, MMMM Do YYYY"):""},computedDateFormattedDatefns:function(){return this.date?Object(T["a"])(this.date,"dddd, MMMM Do YYYY"):""}},methods:{updateDate:function(e){var t=new Date(e);this.$emit("input",t)}}},q=M,z=Object(b["a"])(q,$,O,!1,null,null,null),A=z.exports,I=["Yolanda Chapa","Aurora Carranza","Anagaby Saban","Lorena Martinez","Nadie / Otra persona"],N=["10-12","13-15","16-18","18+"],L=["Mexico","Afghanistan","Albania","Algeria","Andorra","Angola","Antarctica","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Democratic Republic","Congo, Republic of the","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Micronesia","Moldova","Mongolia","Morocco","Monaco","Mozambique","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Samoa","San Marino"," Sao Tome","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],F={title:"Error en el registro",message:"Por favor inténtelo nuevamente más tarde."},B={title:"Al menos 3 preferencias",message:"Por favor seleccione al menos 3 géneros de lectura de su preferencia."},G={title:"Número incorrecto de géneros marcados",message:"Por favor, seleccione de 1 a 3 géneros correspondientes a su texto."},Y={title:"Tamaño de la descripción no válido",message:"Por favor, ingrese una descripción que tenga entre 20 y 200 carácteres."},H={title:"Número de capítulos incorrecto",message:"El número de capítulos ingresado no corresponde al número de capítulos con los que el archivo cuenta."},U=(r("ac1f"),r("466d"),function(e){return!!e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||"correo inválido"}),W=function(e){return void 0!==e&&null!==e&&""!==e||"Campo obligatorio"},K=function(e){return/^\d+$/.test(e)||"Solo se aceptan números"},V=function(e){return/(https:\/\/www\.facebook\.com\/){1}(.)+/.test(e)||"Perfil de facebook inválido"},Z=function(e){return/.{8,}/.test(e)||"Mínimo 8 caracteres"},J=function(e){return/\d{10}/.test(e)||"Los 10 dígito de tu celular"},Q=function(e){return/^[A-Za-záéíóúÁÉÍÓÚ\s]+$/.test(e)||"Solo se aceptan letras"},X=function(e){if(e.token){if(a["default"].$cookies.set("token",e.token),!a["default"].$cookies.isKey("user_type")){var t=e.roles.includes("admin")?"admin":e.roles.includes("writer")?"writer":"reader";a["default"].$cookies.set("user_type",t),a["default"].$cookies.set("user_id",e._id),a["default"].$cookies.set("user_name",e.name)}return!0}return!1},ee={components:{TimestampDateField:A},data:function(){return{reader:{name:"",email:"",phone:"",password:"",facebookLink:"",birthdate:"",preferences:[],recommended:"",readingProficiency:"",nationality:"",readFrom:"",readTill:""},errorMessage:{title:"",message:""},preferencesNames:[],dialogSuccess:!1,dialogError:!1,genres:[],countries:L,administrators:I,emailRule:U,requiredRule:W,numericRule:K,facebookRule:V,passwordMinRule:Z,phoneRule:J,letterRule:Q,errorServerRegister:F,errorPreferencesMinimun:B,showPassword:!1}},asyncComputed:{getGenres:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m("user/genres");case 2:return e.genres=t.sent,t.abrupt("return",e.genres);case 4:case"end":return t.stop()}}),t)})))()}},methods:{preferenceId:function(e){var t,r=Object(E["a"])(this.genres);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(e==a.name)return a._id}}catch(n){r.e(n)}finally{r.f()}},create:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!(e.preferencesNames.length<3)){t.next=7;break}return e.errorMessage=e.errorPreferencesMinimun,e.dialogError=!0,t.abrupt("return");case 7:r=Object(E["a"])(e.preferencesNames);try{for(r.s();!(a=r.n()).done;)n=a.value,e.reader.preferences.push(e.preferenceId(n))}catch(i){r.e(i)}finally{r.f()}return console.log(e.reader.preferences),t.next=12,v("register/readers",e.reader);case 12:return s={email:e.reader.email,password:e.reader.password},t.next=15,v("user/authentication",s);case 15:o=t.sent,X(o),e.dialogSuccess=!0,t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](2),e.errorMessage=e.errorServerRegister,e.dialogError=!0;case 24:case"end":return t.stop()}}),t,null,[[2,20]])})))()}}},te=ee,re=Object(b["a"])(te,S,C,!1,null,"beadd6bc",null),ae=re.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Registro de Escritor")]),r("br"),r("v-form",{ref:"form"},[r("h2",{staticClass:"primary--text"},[e._v("Datos personales")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Nombre completo",rules:[e.requiredRule]},model:{value:e.writer.name,callback:function(t){e.$set(e.writer,"name",t)},expression:"writer.name"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",rules:[e.requiredRule,e.emailRule],label:"E-mail"},model:{value:e.writer.email,callback:function(t){e.$set(e.writer,"email",t)},expression:"writer.email"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Contraseña",rules:[e.requiredRule,e.passwordMinRule],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",name:"input-10-1"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.writer.password,callback:function(t){e.$set(e.writer,"password",t)},expression:"writer.password"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Teléfono celular",rules:[e.requiredRule,e.numericRule,e.phoneRule]},model:{value:e.writer.phone,callback:function(t){e.$set(e.writer,"phone",t)},expression:"writer.phone"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("TimestampDateField",{attrs:{label:"Fecha de Nacimiento",icon:"event",rules:[e.requiredRule]},model:{value:e.writer.birthdate,callback:function(t){e.$set(e.writer,"birthdate",t)},expression:"writer.birthdate"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Seudónimo",rules:[e.requiredRule]},model:{value:e.writer.pseudonym,callback:function(t){e.$set(e.writer,"pseudonym",t)},expression:"writer.pseudonym"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{attrs:{outlined:"",label:"Nacionalidad",items:e.countries,dense:"",rules:[e.requiredRule]},model:{value:e.writer.nationality,callback:function(t){e.$set(e.writer,"nationality",t)},expression:"writer.nationality"}})],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Escritor Registrado!")]),r("v-card-text",[e._v("Serás reenviado a tu dashboard")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Error en el registro")]),r("v-card-text",[e._v("Por favor inténtelo más tarde")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{align:"end"}},[r("v-btn",{attrs:{color:"success"},on:{click:e.create}},[e._v("Registrarse")])],1)],1)],1)},se=[],oe={components:{TimestampDateField:A},data:function(){return{writer:{name:"",email:"",phone:"",password:"",birthdate:"",pseudonym:"",nationality:"",phase:1,isPlus:!1},dialogSuccess:!1,dialogError:!1,emailRule:U,requiredRule:W,numericRule:K,passwordMinRule:Z,phoneRule:J,countries:L,showPassword:!1}},methods:{create:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,v("register/writers",e.writer);case 5:return r={email:e.writer.email,password:e.writer.password},t.next=8,v("user/authentication",r);case 8:a=t.sent,console.log(a),X(a),e.dialogSuccess=!0,e.$router.push("/"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),e.dialogError=!0;case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))()}}},ie=oe,ce=Object(b["a"])(ie,ne,se,!1,null,"39db59f3",null),le=ce.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Iniciar Sesión")]),r("br"),r("br"),r("div",{attrs:{align:"center"}},[r("v-form",{ref:"form"},[r("v-text-field",{staticStyle:{width:"50%"},attrs:{outlined:"",rules:[e.emailRule],label:"E-mail"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-text-field",{staticStyle:{width:"50%"},attrs:{outlined:"",label:"Contraseña",rules:[],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",name:"input-10-1"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("¡Bienvenido a tu sesión!")]),r("v-card-text",[e._v("Serás reenviado a tu dashboard")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entrar")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Error al iniciar sesión")]),r("v-card-text",[e._v("Por favor, inténtelo más tarde")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogIncorrectInfo,callback:function(t){e.dialogIncorrectInfo=t},expression:"dialogIncorrectInfo"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Datos Incorrectos")]),r("v-card-text",[e._v("La información ingresada no es correcta")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogIncorrectInfo=!1}}},[e._v("Entendido")])],1)],1)],1),r("v-btn",{staticClass:"btn btn-indigo",on:{click:e.login}},[e._v("Login")]),r("br"),r("br"),r("p",[e._v(" ¿No tienes cuenta? ")]),r("a",{staticClass:"button",attrs:{href:"/Registro_Lector"}},[e._v("Registrarme como Lector")]),r("br"),r("a",{staticClass:"button",attrs:{href:"/Registro_Escritor"}},[e._v("Registrarme como Escritor")])],1)],1)])},de=[],ge={data:function(){return{user:{email:"",password:""},showPassword:!1,emailRule:U,dialogSuccess:!1,dialogError:!1,dialogIncorrectInfo:!1}},methods:{login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={email:e.user.email,password:e.user.password},t.next=4,v("user/authentication",r);case 4:a=t.sent,n=X(a),n?e.$router.push("/"):e.dialogIncorrectInfo=!0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.dialogError=!0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},me=ge,ve=Object(b["a"])(me,ue,de,!1,null,null,null),pe=ve.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-content",[r("div",{attrs:{align:"center"}},[r("br"),r("br"),r("h1",[e._v("¡Bienvenido a Silma!")]),"writer"==this.role?r("writerDashboard"):e._e(),"reader"==this.role?r("readerDashboard"):e._e(),"admin"==this.role?r("adminDashbaord"):e._e()],1)])],1)},he=[],be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ma-4"},[e.suggestionExists?r("v-container",[e.status?r("h2",[e._v("Tus Sugerencias")]):r("h2",[e._v("Tu Lectura")]),r("br"),r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[r("v-card-title",[e._v(" "+e._s(e.text.title)+" ")]),r("v-card-subtitle",[e._v(" "+e._s(e.text.description)+" ")]),e.status?r("v-card-actions",[r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){return e.accept()}}},[e._v("Aceptar")]),r("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.reject()}}},[e._v("Rechazar")])],1):r("v-card-actions",[r("v-btn",{attrs:{color:"purple",text:"",href:"/Mis_Lecturas/"+this.suggestion._id}},[e._v("Continuar lectura")])],1)],1),r("br")],1):r("v-container",[r("h2",[e._v("No tienes lecturas ni sugerencias por el momento")])]),r("h2",[e._v("Tus Historial de lecturas")]),r("br"),r("Table",{attrs:{headers:e.headers,items:e.data}}),r("DialogComponent",{ref:"confirm"})],1)},xe=[],we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.formattedHeaders,items:e.items,options:e.pagination,expand:!1,"item-key":"_id"},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){return e._l(t.items,(function(t){return r("tr",{key:t._id},[e._l(e.displayedHeaders,(function(a){return r("td",{key:a.value},[r("div",{staticClass:"text-truncate",style:{width:a.width}},[e._t(a.value,[e._v(e._s(t[a.value]))],{value:t[a.value],props:t})],2)])})),r("td",{staticClass:"text-xs-center"},[e._t("actions",null,{props:t})],2)],2)}))}}],null,!0)}),e.withPagination?r("div",{staticClass:"text-xs-center pt-2"},[r("v-options",{attrs:{length:e.pages,circle:""},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1):e._e()],1)},ke=[],_e=r("2909"),ye={props:{headers:{type:Array},items:{type:Array},withPagination:{type:Boolean,default:!1},expand:{type:Boolean,default:!1}},data:function(){return{pagination:{rowsPerPage:300,totalItems:20}}},computed:{pages:function(){return null===this.pagination.rowsPerPage||null===this.totalItems?0:Math.ceil(this.totalItems/this.pagination.rowsPerPage)},totalItems:function(){return this.items.length},displayedHeaders:function(){return this.headers.filter((function(e){return!e.actions}))},formattedHeaders:function(){var e=this.expand?[{text:"",value:"expand",sortable:!1,align:"left",width:"10px"}]:[];return[].concat(e,Object(_e["a"])(this.headers))}}},je=ye,Re=Object(b["a"])(je,we,ke,!1,null,null,null),Se=Re.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[r("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4"},[e._v(e._s(e.message))]),r("v-card-actions",{staticClass:"pt-0"},[r("v-spacer"),r("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(t){return e.agree(t)}}},[e._v("Yes")]),r("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")])],1)],1)],1)},Ee=[],$e=(r("d3b7"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(e,t,r){var a=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,r),new Promise((function(e,t){a.resolve=e,a.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),Oe=$e,De=Object(b["a"])(Oe,Ce,Ee,!1,null,null,null),Pe=De.exports,Te={components:{Table:Se,DialogComponent:Pe},data:function(){return{headers:[{text:"Título",align:"start",value:"title"},{text:"Fecha en que se recibio sugerencia:",value:"sentDate"},{text:"Estado",value:"suggestionStatus"}],data:[],history:"",reader:this.$cookies.get("user_id"),role:this.$cookies.get("user_type"),suggestion:{},text:{},suggestionExists:!1,status:!0,errorMessage:"",errorServerRegister:F,token:""}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfo();case 2:return t.next=4,e.getHistory();case 4:case"end":return t.stop()}}),t)})))()},asyncComputed:{},methods:{accept:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.confirm.open("Aceptar","¿Seguro que quieres comprometerte a leer el texto?",{color:"primary"});case 2:if(!t.sent){t.next=9;break}return t.next=5,v("/suggestions/"+e.suggestion._id+"/accept",{},e.token);case 5:return t.next=7,e.getInfo();case 7:return t.next=9,e.getHistory();case 9:case"end":return t.stop()}}),t)})))()},reject:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.confirm.open("Rechazar","¿Seguro que quieres rechazar la sugerencia?",{color:"primary"});case 2:if(!t.sent){t.next=10;break}return t.next=5,v("/suggestions/"+e.suggestion._id+"/reject",{},e.token);case 5:return e.suggestionExists=!1,t.next=8,e.getInfo();case 8:return t.next=10,e.getHistory();case 10:case"end":return t.stop()}}),t)})))()},getInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.token=e.$cookies.get("token"),t.next=3,m("/suggestions/getSuggestionDashboard/"+e.reader,e.token);case 3:if(e.suggestion=t.sent,0==e.suggestion){t.next=10;break}return e.suggestionExists=!0,t.next=8,m("/texts/"+e.suggestion.text,e.token);case 8:e.text=t.sent,"Accepted"==e.suggestion.suggestionStatus&&(e.status=!1);case 10:case"end":return t.stop()}}),t)})))()},composeHistory:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<e.history.length)){t.next=10;break}return t.next=5,m("/texts/"+e.history[r].text,e.token);case 5:a=t.sent,n.push({title:a.title,sentDate:e.history[r].sentDate,suggestionStatus:e.history[r].suggestionStatus});case 7:r++,t.next=2;break;case 10:e.data=n;case 11:case"end":return t.stop()}}),t)})))()},getHistory:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.token=e.$cookies.get("token"),t.next=3,m("/suggestions/getAllSuggestionsDashboard/"+e.reader,e.token);case 3:return e.history=t.sent,t.next=6,e.composeHistory();case 6:case"end":return t.stop()}}),t)})))()}}},Me=Te,qe=Object(b["a"])(Me,be,xe,!1,null,null,null),ze=qe.exports,Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ma-4"},[r("h2",[e._v("Tus escritos")]),r("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",href:"/Agregar_Escrito"}},[e._v("Agregar Escrito")]),r("Table",{attrs:{headers:e.headers,items:e.data}})],1)},Ie=[],Ne={components:{Table:Se},props:["tripId","ticketId"],data:function(){return{headers:[{text:"Título",align:"start",sortable:!1,value:"title"},{text:"Número de páginas",value:"numberOfPages"},{text:"Status",value:"phase",color:"red"}],data:[],writer:this.$cookies.get("user_id"),role:this.$cookies.get("user_type")}},created:function(){this.initialize()},asyncComputed:{getTexts:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("texts/writer/".concat(e.writer),r);case 3:e.data=t.sent;case 4:case"end":return t.stop()}}),t)})))()}},methods:{initialize:function(){},getColor:function(e){return 0==e?"red":1==e?"green":"yellow"}}},Le=Ne,Fe=Object(b["a"])(Le,Ae,Ie,!1,null,null,null),Be=Fe.exports,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{attrs:{align:"left"}},[e._v("Textos Recibidos")]),r("Table",{attrs:{headers:e.headers,items:e.dataTexts},scopedSlots:e._u([{key:"actions",fn:function(t){var a=t.props;return[r("div",{staticStyle:{"padding-top":"5px"}},[r("v-btn",{attrs:{small:"",color:"success",disabled:a.isRejected||4==a.phase,depressed:""},on:{click:function(t){return e.advancePhase(a)}}},[e._v("Avanzar Fase")])],1),r("div",{staticStyle:{"padding-top":"5px"}},[r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.seeSuggestions(a)}}},[e._v("Sugerencias")])],1),r("div",{staticStyle:{"padding-top":"5px"}},[r("v-btn",{attrs:{small:"",color:"error",disabled:a.isRejected,depressed:""},on:{click:function(t){return e.openRejectDialog(a)}}},[e._v("Rechazar")])],1)]}},{key:"phase",fn:function(t){var a=t.props;return[r("v-chip",{staticClass:"ma-2",attrs:{label:"",outlined:"",small:"",color:a.isRejected?"red":"primary"}},[e._v(" "+e._s(a.isRejected?"Rechazado":a.phase)+" ")])]}}])}),r("h1",{attrs:{align:"left"}},[e._v("Escritores")]),r("Table",{attrs:{headers:e.userHeaders,items:e.dataWriters}}),r("h1",{attrs:{align:"left"}},[e._v("Lectores Beta")]),r("Table",{attrs:{headers:e.userHeaders,items:e.dataReaders}}),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:e.dialogReject,callback:function(t){e.dialogReject=t},expression:"dialogReject"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Rechazo del texto")]),r("v-card-text",[e._v(" Favor de adjuntar un PDF explicando porque el texto del autor fue rechazado. Se le mandará un correo al autor con esta explicación. ")]),r("v-card-text",[r("v-file-input",{attrs:{accept:".pdf",label:"Subir PDF",outlined:"",rules:[e.requiredRule]},model:{value:e.rejectDocument,callback:function(t){e.rejectDocument=t},expression:"rejectDocument"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(t){return e.closeRejectDialog()}}},[e._v(" Cancelar ")]),r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.rejectText()}}},[e._v(" Confirmar ")])],1)],1)],1),r("DialogComponent",{ref:"confirm"})],1)],1)},Ye=[],He=(r("4160"),r("159b"),{components:{Table:Se,DialogComponent:Pe},data:function(){return{headers:[{text:"Título",align:"start",sortable:!1,value:"title"},{text:"Número de Registro",align:"start",sortable:!1,value:"registerNumber"},{text:"Descripción",align:"start",sortable:!1,value:"description"},{text:"Generos",align:"start",sortable:!1,value:"genres"},{text:"Rango de Edades",align:"start",sortable:!1,value:"ageRange"},{text:"Número de Páginas",align:"start",sortable:!1,value:"numberOfPages"},{text:"Número de Capitulos",align:"start",sortable:!1,value:"numberOfChapters"},{text:"Fase",align:"start",sortable:!1,value:"phase"},{text:"Acciones",actions:!0,sortable:!1}],userHeaders:[{text:"Nombre",align:"start",sortable:!1,value:"name"},{text:"Correo",sortable:!1,value:"email"}],dataTexts:[],dataReaders:[],dataWriters:[],dialogReject:!1,rejectingText:void 0,rejectDocument:void 0}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTexts();case 2:return t.next=4,e.composeReaders();case 4:return t.next=6,e.composeWriters();case 6:case"end":return t.stop()}}),t)})))()},methods:{getTexts:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("texts/",r);case 3:a=t.sent,a.forEach((function(e){var t="";e.genres.forEach((function(e){t=""==t?e.name:t+", "+e.name})),e.genres=t})),e.dataTexts=a;case 6:case"end":return t.stop()}}),t)})))()},seeSuggestions:function(e){var t=e._id;this.$router.push("/Sugerencias_Texto/"+t)},advancePhase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$refs.confirm.open("Avanzar","¿Seguro que quieres avanzar el texto de fase?",{color:"primary"});case 2:if(!r.sent){r.next=7;break}return a=t.$cookies.get("token"),r.next=6,v("admins/texts/movePhase/"+e._id,{},a);case 6:t.getTexts();case 7:case"end":return r.stop()}}),r)})))()},openRejectDialog:function(e){this.dialogReject=!0,this.rejectingText=e},closeRejectDialog:function(){this.dialogReject=!1,this.rejectingText=void 0,this.rejectDocument=void 0},rejectText:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new FormData,r.append("document",e.rejectDocument),a=e.$cookies.get("token"),t.next=5,v("texts/".concat(e.rejectingText._id,"/reject"),r,a,!0);case 5:return t.sent,e.closeRejectDialog(),t.next=9,e.getTexts();case 9:case"end":return t.stop()}}),t)})))()},composeReaders:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("/readers",r);case 3:a=t.sent,o=[],n=0;case 6:if(!(n<a.length)){t.next=14;break}return t.next=9,m("users/"+a[n].user._id,r);case 9:s=t.sent,o.push({name:s.name,email:s.email});case 11:n++,t.next=6;break;case 14:e.dataReaders=o;case 15:case"end":return t.stop()}}),t)})))()},composeWriters:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("writers",r);case 3:a=t.sent,o=[],n=0;case 6:if(!(n<a.length)){t.next=14;break}return t.next=9,m("users/"+a[n].user._id,r);case 9:s=t.sent,o.push({name:s.name,email:s.email});case 11:n++,t.next=6;break;case 14:e.dataWriters=o;case 15:case"end":return t.stop()}}),t)})))()}}}),Ue=He,We=Object(b["a"])(Ue,Ge,Ye,!1,null,null,null),Ke=We.exports,Ve={components:{writerDashboard:Be,readerDashboard:ze,adminDashbaord:Ke},data:function(){return{role:this.$cookies.get("user_type")}},methods:{}},Ze=Ve,Je=Object(b["a"])(Ze,fe,he,!1,null,null,null),Qe=Je.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background",staticStyle:{height:"100vh",overflow:"hidden"}},[r("v-card",{staticStyle:{"margin-right":"10%","margin-left":"10%","margin-top":"10%",height:"100vh"},attrs:{elevation:"10"}},[r("v-img",{staticStyle:{margin:"auto"},attrs:{src:"not-found.png",width:"300",position:"center center"}}),r("p",{staticClass:"display-4 font-weight-medium blue-grey--text text--darken-4 text-center mb-6"},[e._v(" Error 404 ")]),r("p",{staticClass:"display-1 blue-grey--text text--darken-3 text-center"},[e._v(" Pagina no encontrada ")])],1)],1)},et=[],tt={},rt=tt,at=(r("fdcb"),Object(b["a"])(rt,Xe,et,!1,null,"1fe957b7",null)),nt=at.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Géneros")]),r("br"),r("br"),r("div",{attrs:{align:"center"}},[r("v-form",{ref:"form"},[r("v-text-field",{staticStyle:{width:"50%"},attrs:{outlined:"",rules:[e.requiredRule,e.letterRule],label:"Agregar género"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("¡Se agrego el género!")]),r("v-card-text",[e._v("Serás reenviado a tu dashboard")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entrar")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Error al agregar el género")]),r("v-card-text",[e._v("Por favor, inténtelo más tarde")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogRepeat,callback:function(t){e.dialogRepeat=t},expression:"dialogRepeat"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("El género ya existe")]),r("v-card-text",[e._v("Ingrese un género que no exista dentro de la base de datos")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogRepeat=!1}}},[e._v("Entendido")])],1)],1)],1),r("v-btn",{staticClass:"btn btn-indigo",on:{click:e.create}},[e._v("Agregar")])],1),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("h2",{staticClass:"primary--text"},[e._v("Géneros existentes")])]),e._l(e.genres,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[r("v-card",{attrs:{color:"purple"}},[r("v-card-text",[r("p",{staticStyle:{color:"white"}},[e._v(e._s(t.name))])])],1)],1)}))],2),r("br"),r("div",{attrs:{align:"center"}},[r("v-btn",{staticClass:"btn btn-indigo",on:{click:e.fill}},[e._v("LLenar géneros")])],1)],1)])},ot=[],it={data:function(){return{name:"",requiredRule:W,letterRule:Q,dialogSuccess:!1,dialogError:!1,dialogRepeat:!1,genres:[]}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGenres();case 2:case"end":return t.stop()}}),t)})))()},methods:{create:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!e.genres.some((function(t){return t.name===e.name}))){t.next=6;break}return e.dialogRepeat=!0,t.abrupt("return");case 6:return r=e.$cookies.get("token"),t.next=9,v("admins/register/genres",{name:e.name},r);case 9:e.dialogSuccess=!0,location.reload(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),e.dialogError=!0;case 16:case"end":return t.stop()}}),t,null,[[2,13]])})))()},fill:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$cookies.get("token"),t.next=4,v("admins/fillGenres",{name:e.name},r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.dialogError=!0;case 9:e.getGenres();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getGenres:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("user/genres",r);case 3:return e.genres=t.sent,t.abrupt("return",e.genres);case 5:case"end":return t.stop()}}),t)})))()}}},ct=it,lt=Object(b["a"])(ct,st,ot,!1,null,null,null),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v(" Agregar Escrito ")]),r("br"),r("v-form",{ref:"form"},[r("h2",{staticClass:"primary--text"},[e._v("Datos del Escrito")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-text-field",{attrs:{outlined:"",label:"Título",rules:[e.requiredRule]},model:{value:e.text.title,callback:function(t){e.$set(e.text,"title",t)},expression:"text.title"}})],1),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-text-field",{attrs:{outlined:"",label:"Registro de derechos de autor",rules:[e.requiredRule]},model:{value:e.text.registerNumber,callback:function(t){e.$set(e.text,"registerNumber",t)},expression:"text.registerNumber"}})],1),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-text-field",{attrs:{outlined:"",label:"# de páginas",rules:[e.requiredRule,e.numericRule]},model:{value:e.text.numberOfPages,callback:function(t){e.$set(e.text,"numberOfPages",t)},expression:"text.numberOfPages"}})],1),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-text-field",{attrs:{outlined:"",label:"# de capítulos",rules:[e.requiredRule,e.numericRule]},model:{value:e.text.numberOfChapters,callback:function(t){e.$set(e.text,"numberOfChapters",t)},expression:"text.numberOfChapters"}})],1),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-select",{attrs:{outlined:"",label:"Rango edad",items:e.ageRanges,rules:[e.requiredRule]},model:{value:e.text.ageRange,callback:function(t){e.$set(e.text,"ageRange",t)},expression:"text.ageRange"}})],1)],1),r("p",[e._v("Seleccionar géneros (Máximo 3)")]),r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.genres,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[r("v-switch",{attrs:{label:t.name,value:t._id,color:"success"},model:{value:e.text.genres,callback:function(t){e.$set(e.text,"genres",t)},expression:"text.genres"}})],1)})),1),r("v-layout",{staticClass:"justify-center",attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-textarea",{attrs:{outlined:"",label:"Descripción",rules:[e.requiredRule]},model:{value:e.text.description,callback:function(t){e.$set(e.text,"description",t)},expression:"text.description"}})],1)],1),r("p",[e._v("Los archivos deberán subirse con el formato de Common Mark.")]),r("p",[e._v(" Los capítulos tendrán que ser indicados como encabezados (Heading 1) ")]),r("a",{attrs:{href:"https://commonmark.org/help/"}},[e._v("Presiona aquí para más información")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-file-input",{attrs:{accept:".md",label:"Subir Archivo",rules:[e.requiredRule]},model:{value:e.document,callback:function(t){e.document=t},expression:"document"}})],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-dialog",{attrs:{width:"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.previewData}},a),[e._v("Vista Previa")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v("Previa visualización del escrito")]),r("v-card-text",{attrs:{id:"commonMarkHTML"},domProps:{innerHTML:e._s(e.data)}}),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Escrito Registrado!")]),r("v-card-text",[e._v("Tu escrito ya se encuentra registrado")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(e._s(e.errorMessage.title))]),r("v-card-text",[e._v(e._s(e.errorMessage.text))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{align:"end"}},[r("v-btn",{attrs:{color:"success",disabled:this.isDisabled},on:{click:e.create}},[e._v("Registrar")])],1)],1)],1)},gt=[],mt=(r("a4d3"),r("e01a"),r("1276"),r("e7d1")),vt=r.n(mt),pt=function(e){for(var t=function(e){return/^ {0,3}# [\s\S]*$/.test(e)||!1},r=0,a=[],n="",s=e.split("\n"),o=0;o<s.length;o++){var i=s[o];t(i)&&(console.log(i),r+=1,r>1&&(a.push(n),n="\n")),n=n.concat(i,"\n")}return a.push(n),a},ft=function(e){var t=new vt.a.Parser,r=new vt.a.HtmlRenderer,a=t.parse(e);return r.render(a)},ht={components:{},data:function(){return{text:{writer:this.$cookies.get("user_id"),title:"",registerNumber:"",description:"",genres:[],numberOfPages:"",ageRange:"",phase:1,documentPath:"",numberOfChapters:""},errorMessage:{title:"",text:""},isDisabled:!1,dialogSuccess:!1,dialogError:!1,requiredRule:W,document:null,genres:[],ageRanges:N,numericRule:K,data:null,dialog:!1}},asyncComputed:{getGenres:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("user/genres",r);case 3:return e.genres=t.sent,t.abrupt("return",e.genres);case 5:case"end":return t.stop()}}),t)})))()}},methods:{getFile:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a=new FileReader;a.onerror=r,a.onload=function(){t(a.result)},a.readAsText(e.document)})));case 1:case"end":return t.stop()}}),t)})))()},create:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(!(e.text.genres.length<1||e.text.genres.length>3)){t.next=6;break}return e.errorMessage=G,e.dialogError=!0,t.abrupt("return");case 6:return t.next=8,e.getFile();case 8:if(r=t.sent,a=pt(r).length,a==parseInt(e.text.numberOfChapters)){t.next=14;break}return e.errorMessage=H,e.dialogError=!0,t.abrupt("return");case 14:if(!(e.text.description.length<20||e.text.description.length>200)){t.next=18;break}return e.errorMessage=Y,e.dialogError=!0,t.abrupt("return");case 18:return e.isDisabled=!0,t.prev=19,n=e.$cookies.get("token"),t.next=23,v("texts",e.text,n);case 23:return s=t.sent,o=s._id,i=new FormData,i.append("document",e.document),t.next=29,v("texts/".concat(o,"/uploads"),i,n,!0);case 29:e.dialogSuccess=!0,t.next=37;break;case 32:t.prev=32,t.t0=t["catch"](19),e.errorMessage=F,e.dialogError=!0,e.isDisabled=!1;case 37:case"end":return t.stop()}}),t,null,[[19,32]])})))()},previewData:function(){var e=this;if(this.document){var t=new FileReader;t.readAsText(this.document),t.onload=function(){e.data=ft(t.result)}}else this.data="No se ha seleccionado ningún archivo"}}},bt=ht,xt=Object(b["a"])(bt,dt,gt,!1,null,"50bd4d19",null),wt=xt.exports,kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Retroalimentación de")]),r("br"),r("v-form",{ref:"form"},[r("h2",{staticClass:"primary--text"},[e._v("¿Debería publicarse el libro?")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"8"}},[r("v-radio-group",{attrs:{rules:[e.requiredRule],row:""},model:{value:e.feedback.publish,callback:function(t){e.$set(e.feedback,"publish",t)},expression:"feedback.publish"}},[r("v-radio",{attrs:{label:"Si",value:"Yes",color:"success"}}),r("v-radio",{attrs:{label:"No",value:"No",color:"success"}})],1)],1)],1),r("h2",{staticClass:"primary--text"},[e._v("La primera vez que dejaste de leer el texto, ¿en qué página te quedaste?")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-text-field",{attrs:{outlined:"",rules:[e.requiredRule,e.numericRule]},model:{value:e.feedback.page,callback:function(t){e.$set(e.feedback,"page",t)},expression:"feedback.page"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("h2",{staticClass:"primary--text"},[e._v("El género del libro es (selecciona todos los que apliquen): ")])]),e._l(e.genres,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[r("v-switch",{attrs:{label:t.name,color:"success",value:t.name},model:{value:e.genresNames,callback:function(t){e.genresNames=t},expression:"genresNames"}})],1)}))],2),r("h2",{staticClass:"primary--text"},[e._v("Comenta algo que te haya gustado mucho de la lectura")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",[r("v-textarea",{attrs:{outlined:"",rules:[e.requiredRule]},model:{value:e.feedback.liked,callback:function(t){e.$set(e.feedback,"liked",t)},expression:"feedback.liked"}})],1)],1),r("h2",{staticClass:"primary--text"},[e._v("Comenta algo que no te haya gustado de la lectura")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",[r("v-textarea",{attrs:{outlined:"",rules:[e.requiredRule]},model:{value:e.feedback.disliked,callback:function(t){e.$set(e.feedback,"disliked",t)},expression:"feedback.disliked"}})],1)],1),r("h2",{staticClass:"primary--text"},[e._v("Mi personaje favorito fue (coméntanos por qué)")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",[r("v-textarea",{attrs:{outlined:"",rules:[e.requiredRule]},model:{value:e.feedback.goodCharacter,callback:function(t){e.$set(e.feedback,"goodCharacter",t)},expression:"feedback.goodCharacter"}})],1)],1),r("h2",{staticClass:"primary--text"},[e._v("El personaje que menos me gusto fue (coméntanos por qué)")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",[r("v-textarea",{attrs:{outlined:"",rules:[e.requiredRule]},model:{value:e.feedback.badCharacter,callback:function(t){e.$set(e.feedback,"badCharacter",t)},expression:"feedback.badCharacter"}})],1)],1),r("h2",{staticClass:"primary--text"},[e._v("En general el libro, No me gustó (1) - Lo amé (10)")]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{cols:"12",sm:"8"}},[r("v-radio-group",{attrs:{rules:[e.requiredRule],row:""},model:{value:e.feedback.grade,callback:function(t){e.$set(e.feedback,"grade",t)},expression:"feedback.grade"}},e._l(10,(function(e){return r("v-radio",{key:e,attrs:{label:e,value:e,color:"success"}})})),1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Se recibio tu retroalimentación!")]),r("v-card-text",[e._v("Serás reenviado a tu dashboard")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(e._s(e.errorMessage.title))]),r("v-card-text",[e._v(e._s(e.errorMessage.message))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-col",{attrs:{align:"end"}},[r("v-btn",{attrs:{color:"success"},on:{click:e.create}},[e._v("Concluir")])],1)],1)],1)},_t=[],yt={data:function(){return{feedback:{reader:this.$cookies.get("user_id"),suggestion:this.$route.params.id,selectedGenres:[],publish:"",page:"",grade:"",badCharacter:"",goodCharacter:"",liked:"",disliked:""},errorMessage:{title:"",message:""},genresNames:[],dialogSuccess:!1,dialogError:!1,genres:[],requiredRule:W,numericRule:K,errorServerRegister:F,errorPreferencesMinimun:B}},asyncComputed:{getGenres:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("/user/genres",r);case 3:return a=t.sent,t.abrupt("return",e.genres=a);case 5:case"end":return t.stop()}}),t)})))()},getSuggestion:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$route.params,e.feedback.suggestion=r.id;case 2:case"end":return t.stop()}}),t)})))()}},methods:{preferenceId:function(e){var t,r=Object(E["a"])(this.genres);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(e==a.name)return a._id}}catch(n){r.e(n)}finally{r.f()}},create:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!(e.genresNames.length<3)){t.next=7;break}return e.errorMessage=e.errorPreferencesMinimun,e.dialogError=!0,t.abrupt("return");case 7:r=Object(E["a"])(e.genresNames);try{for(r.s();!(a=r.n()).done;)n=a.value,e.feedback.selectedGenres.push(e.preferenceId(n))}catch(o){r.e(o)}finally{r.f()}return s=e.$cookies.get("token"),t.next=12,v("/register/feedback",e.feedback,s);case 12:return t.next=14,v("/suggestions/"+e.feedback.suggestion+"/complete",{},s);case 14:e.dialogSuccess=!0,t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](2),e.errorMessage=e.errorServerRegister,e.dialogError=!0;case 21:case"end":return t.stop()}}),t,null,[[2,17]])})))()}}},jt=yt,Rt=Object(b["a"])(jt,kt,_t,!1,null,"72297c58",null),St=Rt.exports,Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{attrs:{align:"left"}},[e._v("Textos Recibidos para "+e._s(e.textData.title))]),[r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{persistent:"","max-width":"2000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{color:"primary",dark:""}},a),[e._v("Agregar Sugerencias")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Añadir Sugerencia")])]),r("v-card-text",[r("v-container",[r("Table",{attrs:{headers:e.headersReadersNoSuggestion,items:e.readersNoSuggestion},scopedSlots:e._u([{key:"actions",fn:function(t){var a=t.props;return[r("div",{staticStyle:{"padding-top":"5px"}},[r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.sendSuggestion(a)}}},[e._v("Seleccionar Lector")])],1)]}}])})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cerrar")])],1)],1)],1)],1)],r("Table",{attrs:{headers:e.headersSuggestions,items:e.dataSuggestions},scopedSlots:e._u([{key:"actions",fn:function(t){var a=t.props;return[r("div",{staticStyle:{"padding-top":"5px"}},[r("v-btn",{attrs:{small:"",color:"error",depressed:""},on:{click:function(t){return e.deleteSuggestion(a)}}},[e._v("Eliminar")])],1)]}}])}),r("DialogComponent",{ref:"confirm"})],2)},Et=[],$t={components:{Table:Se,DialogComponent:Pe},data:function(){return{headersSuggestions:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"E-mail",align:"start",sortable:!1,value:"email"},{text:"Fecha de Envío",align:"start",sortable:!1,value:"sentDate"},{text:"# Capitulos Pedidos",align:"start",sortable:!1,value:"readingChapters"},{text:"Puntaje",align:"start",sortable:!1,value:"score"},{text:"Acciones",actions:!0,sortable:!1}],dataSuggestions:[],readersNoSuggestion:[],headersReadersNoSuggestion:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"E-mail",align:"start",sortable:!1,value:"email"},{text:"Last Review",align:"start",sortable:!1,value:"lastReview"},{text:"Read From",align:"start",sortable:!1,value:"readFrom"},{text:"Read Until",align:"start",sortable:!1,value:"readTill"},{text:"Preferencias",align:"start",sortable:!1,value:"genres"},{text:"Velocidad de Lectura",align:"start",sortable:!1,value:"readingProficiency"}],dialog:!1,textData:{}}},created:function(){this.getTextInfo(),this.getSuggestions(),this.getReadersWithoutSuggestion()},methods:{deleteSuggestion:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$cookies.get("token"),r.next=3,t.$refs.confirm.open("Eliminar","Seguro que quieres eliminar?",{color:"primary"});case 3:if(!r.sent){r.next=9;break}return r.next=6,p("admins/suggestions/deleteSuggestion/"+e.suggestion_id,a);case 6:t.getTextInfo(),t.getSuggestions(),t.getReadersWithoutSuggestion();case 9:case"end":return r.stop()}}),r)})))()},getSuggestions:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("admins/suggestions/getTextSuggestions/"+e.$route.params.id,r);case 3:a=t.sent,n=[],a.forEach(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m("readers/"+t.reader,r);case 2:a=e.sent,s={name:a.user.name,email:a.user.email,status:t.suggestionStatus,sentDate:P()(new Date(t.sentDate)).format("DD/MM/YYYY"),readingChapters:t.readingChapters,score:t.score,reader_id:a.reader,text_id:t.reader,suggestion_id:t._id},n.push(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.dataSuggestions=n;case 7:case"end":return t.stop()}}),t)})))()},getTextInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("texts/"+e.$route.params.id,r);case 3:a=t.sent,e.textData=a;case 5:case"end":return t.stop()}}),t)})))()},getReadersWithoutSuggestion:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("suggestions/getReadersWithoutSuggestion/",r);case 3:a=t.sent,n=[],a.forEach((function(e){var t="";e.preferences.forEach((function(e){t=""==t?e.name:t+", "+e.name}));var r={id:e._id,name:e.user.name,email:e.user.email,lastReview:P()(new Date(e.lastReview)).format("DD/MM/YYYY"),readFrom:P()(new Date(e.readFrom)).format("DD/MM/YYYY"),readTill:P()(new Date(e.readTill)).format("DD/MM/YYYY"),genres:t,readingProficiency:e.readingProficiency};n.push(r)})),e.readersNoSuggestion=n;case 7:case"end":return t.stop()}}),t)})))()},sendSuggestion:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$cookies.get("token"),r.next=3,v("admins/suggestions/createSuggestions/",{reader_id:e.id,book_id:t.textData._id,numberOfPages:t.textData.numberOfPages},a);case 3:t.getTextInfo(),t.getSuggestions(),t.getReadersWithoutSuggestion(),t.dialog=!1;case 7:case"end":return r.stop()}}),r)})))()}}},Ot=$t,Dt=Object(b["a"])(Ot,Ct,Et,!1,null,null,null),Pt=Dt.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v(" "+e._s(this.text.title)+" ")]),r("br"),r("p",{attrs:{align:"center"}},[e._v(" Capítulos mostrados: "+e._s(this.suggestion.readingChapters)+" ")]),r("v-card",[r("v-card-title",{staticClass:"grey lighten-4"},[e._v(e._s(this.text.description)+" ")]),r("v-card-text",{attrs:{id:"commonMarkHTML"},domProps:{innerHTML:e._s(e.data)}}),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"blue darken-1",attrs:{color:"white",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Pedir más capítulos")]),r("v-btn",{staticClass:"green darken-2",attrs:{color:"white",text:"",href:"/Cuestionario_de_lectura/"+this.suggestionId}},[e._v("Llenar retroalimentación")])],1)],1),r("br")],1)},Mt=[],qt=(r("fb6a"),r("25f0"),{components:{},data:function(){return{title:"Título de la Sugerencia",suggestionId:this.$route.params.id,suggestion:"",text:"",chapters:"",data:""}},asyncComputed:{getSuggestion:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("user/genres",r);case 3:return e.genres=t.sent,t.abrupt("return",e.genres);case 5:case"end":return t.stop()}}),t)})))()},visualizeChapters:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$cookies.get("token"),t.next=3,m("suggestions/".concat(e.suggestionId),r);case 3:return e.suggestion=t.sent,e.text=e.suggestion.text,t.next=7,m("/texts/".concat(e.text._id,"/uploads"),r);case 7:a=t.sent,n=a.message,e.chapters=pt(n).slice(0,e.suggestion.readingChapters).toString(),e.data=ft(e.chapters);case 11:case"end":return t.stop()}}),t)})))()}},methods:{}}),zt=qt,At=Object(b["a"])(zt,Tt,Mt,!1,null,"74a86aa4",null),It=At.exports;a["default"].use(R["a"]);var Nt=[{path:"/Registro_Lector",name:"RegisterReader",component:ae},{path:"/Registro_Escritor",name:"RegisterWriter",component:le},{path:"/Iniciar_Sesion",name:"LogIn",component:pe},{path:"/Agregar_Escrito",name:"TextRegister",component:wt,meta:{requiresAuth:!0,withAccess:["writer"]}},{path:"/Generos",name:"Genres",component:ut,meta:{requiresAuth:!0,withAccess:["admin"]}},{path:"/",name:"Dashboard",component:Qe,meta:{requiresAuth:!0,withAccess:["admin","reader","writer"]}},{path:"/Cuestionario_de_lectura/:id",name:"Questionnarie",component:St,meta:{requiresAuth:!0,withAccess:["reader"]}},{path:"/Sugerencias_Texto/:id",name:"SuggestionsAdmin",component:Pt,meta:{requiresAuth:!0,withAccess:["admin"]}},{path:"/Mis_Lecturas/:id",name:"ChaptersVisualization",component:It,meta:{requiresAuth:!0,withAccess:["reader"]}},{path:"*",component:nt}],Lt=new R["a"]({mode:"history",base:"/",routes:Nt});Lt.beforeEach((function(e,t,r){var n=a["default"].$cookies.get("token"),s=a["default"].$cookies.get("user_type"),o=e.matched.some((function(e){return e.meta.requiresAuth}));if(!o||n&&s){var i=e.matched.map((function(e){return e.meta.withAccess||["admin","writer","reader"]})),c=i.some((function(e){return e.some((function(e){return e===s}))}));!o||c?r():r("Iniciar_Sesion")}else r("Iniciar_Sesion")}));var Ft=Lt,Bt=(r("bf40"),r("ce5b")),Gt=r.n(Bt);a["default"].use(Gt.a);var Yt={},Ht=new Gt.a(Yt),Ut=r("2b27"),Wt=r.n(Ut),Kt=r("3003");a["default"].config.productionTip=!1,a["default"].use(Wt.a),a["default"].use(Kt["a"]),new a["default"]({vuetify:Ht,router:Ft,render:function(e){return e(j)}}).$mount("#app")},fdcb:function(e,t,r){"use strict";var a=r("1dbf"),n=r.n(a);n.a}});
//# sourceMappingURL=app.36f78f77.js.map