(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1dbf":function(e,t,a){},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("router-view")],1)},n=[],o=(a("96cf"),a("1da1")),i={mounted:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},l=i,c=a("2877"),d=Object(c["a"])(l,s,n,!1,null,null,null),u=d.exports,m=(a("d81d"),a("45fc"),a("8c4f")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Registro de Lector Beta")]),a("br"),a("v-form",{ref:"form"},[a("h2",{staticClass:"primary--text"},[e._v("Datos personales")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre completo",rules:[e.requiredRule]},model:{value:e.reader.name,callback:function(t){e.$set(e.reader,"name",t)},expression:"reader.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{outlined:"",rules:[e.requiredRule,e.emailRule],label:"E-mail"},model:{value:e.reader.email,callback:function(t){e.$set(e.reader,"email",t)},expression:"reader.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{outlined:"",label:"Contraseña",rules:[e.requiredRule,e.passwordMinRule],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",name:"input-10-1"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.reader.password,callback:function(t){e.$set(e.reader,"password",t)},expression:"reader.password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("TimestampDateField",{attrs:{label:"Fecha de Nacimiento",icon:"event",rules:[e.requiredRule]},model:{value:e.reader.birthdate,callback:function(t){e.$set(e.reader,"birthdate",t)},expression:"reader.birthdate"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Teléfono celular",rules:[e.requiredRule,e.numericRule,e.phoneRule]},model:{value:e.reader.phone,callback:function(t){e.$set(e.reader,"phone",t)},expression:"reader.phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Link a perfil de facebook",rules:[e.requiredRule,e.facebookRule]},model:{value:e.reader.facebookLink,callback:function(t){e.$set(e.reader,"facebookLink",t)},expression:"reader.facebookLink"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{attrs:{outlined:"",label:"Nacionalidad",items:e.countries,dense:"",rules:[e.requiredRule]},model:{value:e.reader.nationality,callback:function(t){e.$set(e.reader,"nationality",t)},expression:"reader.nationality"}})],1)],1),a("h2",{staticClass:"primary--text"},[e._v("Datos para Silma")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{outlined:"",label:"¿Quién te recomendo Silma?",items:e.administrators,dense:"",rules:[e.requiredRule]},model:{value:e.reader.recommended,callback:function(t){e.$set(e.reader,"recommended",t)},expression:"reader.recommended"}})],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-radio-group",{attrs:{rules:[e.requiredRule],label:"¿Cuánto te tardas en leer 200 páginas?",row:""},model:{value:e.reader.readingProficiency,callback:function(t){e.$set(e.reader,"readingProficiency",t)},expression:"reader.readingProficiency"}},[a("v-radio",{attrs:{label:"3 días o menos",value:"3 or less",color:"success"}}),a("v-radio",{attrs:{label:"5 días",value:"4 to 6",color:"success"}}),a("v-radio",{attrs:{label:"7 días o más",value:"7 or more",color:"success"}})],1)],1)],1),a("h2",{staticClass:"primary--text"},[e._v("¿Entre que fechas puedes leer textos?")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("TimestampDateField",{attrs:{label:"Desde",icon:"event",rules:[e.requiredRule]},model:{value:e.reader.readFrom,callback:function(t){e.$set(e.reader,"readFrom",t)},expression:"reader.readFrom"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("TimestampDateField",{attrs:{label:"Hasta",icon:"event",rules:[e.requiredRule]},model:{value:e.reader.readTill,callback:function(t){e.$set(e.reader,"readTill",t)},expression:"reader.readTill"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("h2",{staticClass:"primary--text"},[e._v("Preferencias de textos")])]),e._l(e.genres,(function(t){return a("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[a("v-switch",{attrs:{label:t.name,color:"success",value:t.name},model:{value:e.preferencesNames,callback:function(t){e.preferencesNames=t},expression:"preferencesNames"}})],1)}))],2)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Lector Registrado!")]),a("v-card-text",[e._v("Serás reenviado a tu dashboard")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.errorMessage.title))]),a("v-card-text",[e._v(e._s(e.errorMessage.message))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{align:"end"}},[a("v-btn",{attrs:{color:"success"},on:{click:e.create}},[e._v("Registrarse")])],1)],1)],1)},v=[],f=(a("caad"),a("b0c0"),a("2532"),a("b85c")),g=a("bc3a"),b=a.n(g),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{value:e.computedDateFormattedMomentjs,clearable:"",readonly:"",label:e.label,rules:e.rules,icon:e.icon,outlined:""},on:{"click:clear":function(t){e.date=null},input:e.updateDate}},r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"header-color":"green lighten-1",color:"green lighten-1"},on:{change:function(t){e.menu=!1},input:e.updateDate},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)},w=[],x=a("c1df"),k=a.n(x),y=a("b166"),j={data:function(){return{date:"",menu:!1}},props:["label","rules","icon"],computed:{computedDateFormattedMomentjs:function(){return this.date?k()(this.date).format("dddd, MMMM Do YYYY"):""},computedDateFormattedDatefns:function(){return this.date?Object(y["a"])(this.date,"dddd, MMMM Do YYYY"):""}},methods:{updateDate:function(e){var t=new Date(e);this.$emit("input",t)}}},_=j,R=Object(c["a"])(_,h,w,!1,null,null,null),S=R.exports,E=["Yolanda Chapa","Aurora Carranza","Anagaby Saban","Lorena Martinez","Nadie / Otra persona"],C=["10-12","13-15","16-18","18+"],$=["Mexico","Afghanistan","Albania","Algeria","Andorra","Angola","Antarctica","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Democratic Republic","Congo, Republic of the","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Micronesia","Moldova","Mongolia","Morocco","Monaco","Mozambique","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Samoa","San Marino"," Sao Tome","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],P={title:"Error en el registro",message:"Por favor inténtelo nuevamente más tarde."},M={title:"Al menos 3 preferencias",message:"Por favor seleccione al menos 3 géneros de lectura de su preferencia."},O={title:"Número incorrecto de géneros marcados",message:"Por favor, seleccione de 1 a 3 géneros correspondientes a su texto."},z={title:"Tamaño de la descripción no válido",message:"Por favor, ingrese una descripción que tenga entre 20 y 200 carácteres."},A=(a("ac1f"),a("466d"),function(e){return!!e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||"correo inválido"}),q=function(e){return void 0!==e&&null!==e&&""!==e||"Campo obligatorio"},T=function(e){return/^\d+$/.test(e)||"Solo se aceptan números"},I=function(e){return/(https:\/\/www\.facebook\.com\/){1}(.)+/.test(e)||"Perfil de facebook inválido"},D=function(e){return/.{8,}/.test(e)||"Mínimo 8 caracteres"},N=function(e){return/\d{10}/.test(e)||"Los 10 dígito de tu celular"},B=function(e){return/^[A-Za-z\s]+$/.test(e)||"Solo se aceptan letras"},L={components:{TimestampDateField:S},data:function(){return{reader:{name:"",email:"",phone:"",password:"",facebookLink:"",birthdate:"",preferences:[],recommended:"",readingProficiency:"",nationality:"",readFrom:"",readTill:""},errorMessage:{title:"",message:""},preferencesNames:[],dialogSuccess:!1,dialogError:!1,genres:[],countries:$,administrators:E,emailRule:A,requiredRule:q,numericRule:T,facebookRule:I,passwordMinRule:D,phoneRule:N,errorServerRegister:P,errorPreferencesMinimun:M,showPassword:!1}},asyncComputed:{getGenres:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/api/user/genres");case 2:return a=t.sent,t.abrupt("return",e.genres=a.data);case 4:case"end":return t.stop()}}),t)})))()}},methods:{preferenceId:function(e){var t,a=Object(f["a"])(this.genres);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(e==r.name)return r._id}}catch(s){a.e(s)}finally{a.f()}},create:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,o,i,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!(e.preferencesNames.length<3)){t.next=7;break}return e.errorMessage=e.errorPreferencesMinimun,e.dialogError=!0,t.abrupt("return");case 7:a=Object(f["a"])(e.preferencesNames);try{for(a.s();!(r=a.n()).done;)s=r.value,e.reader.preferences.push(e.preferenceId(s))}catch(m){a.e(m)}finally{a.f()}return console.log(e.reader.preferences),t.next=12,b.a.post("http://localhost:3000/api/register/readers",e.reader);case 12:return n={email:e.reader.email,password:e.reader.password},t.next=15,b.a.post("http://localhost:3000/api/user/authentication",n);case 15:o=t.sent,i=o.data,l=i.token,c=i.roles,d=i._id,e.$cookies.set("token",l),e.$cookies.isKey("user_type")||(u=c.includes("admin")?"admin":c.includes("writer")?"writer":"reader",e.$cookies.set("user_type",u),e.$cookies.set("user_id",d)),e.dialogSuccess=!0,t.next=27;break;case 22:t.prev=22,t.t0=t["catch"](2),console.log(t.t0.response.data),e.errorMessage=e.errorServerRegister,e.dialogError=!0;case 27:case"end":return t.stop()}}),t,null,[[2,22]])})))()}}},G=L,F=Object(c["a"])(G,p,v,!1,null,"5ef88829",null),H=F.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Registro de Escritor")]),a("br"),a("v-form",{ref:"form"},[a("h2",{staticClass:"primary--text"},[e._v("Datos personales")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre completo",rules:[e.requiredRule]},model:{value:e.writer.name,callback:function(t){e.$set(e.writer,"name",t)},expression:"writer.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:[e.requiredRule,e.emailRule],label:"E-mail"},model:{value:e.writer.email,callback:function(t){e.$set(e.writer,"email",t)},expression:"writer.email"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Contraseña",rules:[e.requiredRule,e.passwordMinRule],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",name:"input-10-1"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.writer.password,callback:function(t){e.$set(e.writer,"password",t)},expression:"writer.password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Teléfono celular",rules:[e.requiredRule,e.numericRule,e.phoneRule]},model:{value:e.writer.phone,callback:function(t){e.$set(e.writer,"phone",t)},expression:"writer.phone"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("TimestampDateField",{attrs:{label:"Fecha de Nacimiento",icon:"event",rules:[e.requiredRule]},model:{value:e.writer.birthdate,callback:function(t){e.$set(e.writer,"birthdate",t)},expression:"writer.birthdate"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Seudónimo",rules:[e.requiredRule]},model:{value:e.writer.pseudonym,callback:function(t){e.$set(e.writer,"pseudonym",t)},expression:"writer.pseudonym"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{attrs:{outlined:"",label:"Nacionalidad",items:e.countries,dense:"",rules:[e.requiredRule]},model:{value:e.writer.nationality,callback:function(t){e.$set(e.writer,"nationality",t)},expression:"writer.nationality"}})],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Escritor Registrado!")]),a("v-card-text",[e._v("Serás reenviado a tu dashboard")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Error en el registro")]),a("v-card-text",[e._v("Por favor inténtelo más tarde")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{align:"end"}},[a("v-btn",{attrs:{color:"success"},on:{click:e.create}},[e._v("Registrarse")])],1)],1)],1)},U=[],Y="https://silma.herokuapp.com",V={components:{TimestampDateField:S},data:function(){return{writer:{name:"",email:"",phone:"",password:"",birthdate:"",pseudonym:"",nationality:"",phase:1,isPlus:!1},dialogSuccess:!1,dialogError:!1,emailRule:A,requiredRule:q,numericRule:T,passwordMinRule:D,phoneRule:N,countries:$,showPassword:!1}},methods:{create:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,o,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,b.a.post("".concat(Y,"/api/register/writers"),e.writer);case 5:return a={email:e.writer.email,password:e.writer.password},t.next=8,b.a.post("".concat(Y,"/api/user/authentication"),a);case 8:r=t.sent,s=r.data,n=s.token,o=s.roles,i=s._id,e.$cookies.set("token",n),e.$cookies.isKey("user_type")||(l=o.includes("admin")?"admin":o.includes("writer")?"writer":"reader",e.$cookies.set("user_type",l),e.$cookies.set("user_id",i)),e.dialogSuccess=!0,e.$router.push("/"),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](2),e.dialogError=!0;case 19:case"end":return t.stop()}}),t,null,[[2,16]])})))()}}},Z=V,J=Object(c["a"])(Z,K,U,!1,null,"9fcd84ce",null),Q=J.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Iniciar Sesión")]),a("br"),a("br"),a("div",{attrs:{align:"center"}},[a("v-form",{ref:"form"},[a("v-text-field",{staticStyle:{width:"50%"},attrs:{outlined:"",rules:[e.emailRule],label:"E-mail"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("v-text-field",{staticStyle:{width:"50%"},attrs:{outlined:"",label:"Contraseña",rules:[],"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",name:"input-10-1"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("br"),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("¡Bienvenido a tu sesión!")]),a("v-card-text",[e._v("Serás reenviado a tu dashboard")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entrar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Error al iniciar sesión")]),a("v-card-text",[e._v("Por favor, inténtelo más tarde")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogIncorrectInfo,callback:function(t){e.dialogIncorrectInfo=t},expression:"dialogIncorrectInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Datos Incorrectos")]),a("v-card-text",[e._v("La información ingresada no es correcta")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogIncorrectInfo=!1}}},[e._v("Entendido")])],1)],1)],1),a("v-btn",{staticClass:"btn btn-indigo",on:{click:e.login}},[e._v("Login")]),a("br"),a("br"),a("p",[e._v(" ¿No tienes cuenta? ")]),a("a",{staticClass:"button",attrs:{href:"/Registro_Lector"}},[e._v("Registrarme como Lector")]),a("br"),a("a",{staticClass:"button",attrs:{href:"/Registro_Escritor"}},[e._v("Registrarme como Escritor")])],1)],1)])},X=[],ee={data:function(){return{user:{email:"",password:""},showPassword:!1,emailRule:A,dialogSuccess:!1,dialogError:!1,dialogIncorrectInfo:!1}},methods:{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,o,i,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={email:e.user.email,password:e.user.password},t.next=4,b.a.post("http://localhost:3000/api/user/authentication",a);case 4:r=t.sent,s=r.data,n=s.token,o=s.roles,i=s._id,l=s.name,n?(e.$cookies.set("token",n),e.$cookies.isKey("user_type")||(c=o.includes("admin")?"admin":o.includes("writer")?"writer":"reader",e.$cookies.set("user_type",c),e.$cookies.set("user_id",i),e.$cookies.set("user_name",l)),e.$router.push("/")):e.dialogIncorrectInfo=!0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.dialogError=!0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},te=ee,ae=Object(c["a"])(te,W,X,!1,null,null,null),re=ae.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-account")])],1),a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[a("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(this.name))])]),a("v-spacer"),a("typeOfUserSelection")],1),a("v-content",[a("div",{attrs:{align:"center"}},[a("br"),a("br"),a("h1",[e._v("¡Bienvenido a Silma! ")]),"writer"==this.role?a("writerDashboard"):e._e()],1)])],1)},ne=[],oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:""}},r),[e._v(" "+e._s(e.role)+" ")])]}}])},[a("v-list",e._l(e.items,(function(t,r){return a("v-list-item",{key:r},[a("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1)},ie=[],le={data:function(){return{items:[{title:"Escritor"},{title:"Lector"},{title:"Administrador"}],role:"writer"==this.$cookies.get("user_type")?"Escritor":"reader"==this.$cookies.get("user_type")?"Lector":"Administrador"}}},ce=le,de=Object(c["a"])(ce,oe,ie,!1,null,null,null),ue=de.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-4"},[a("h2",[e._v("Tus escritos")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",href:"/Agregar_Escrito"}},[e._v("Agregar Escrito")]),a("Table",{attrs:{headers:e.headers,items:e.data}})],1)},pe=[],ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.formattedHeaders,items:e.items,pagination:e.pagination,expand:!1,"item-key":"id"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[e.expand?a("td",{staticClass:"pt-0 pr-0 pl-2",staticStyle:{width:"10px"}},[a("v-btn",{staticClass:"ma-0",attrs:{icon:"",small:"",text:""}},[a("v-icon",[e._v(e._s(t.expanded?"arrow_drop_up":"arrow_drop_down"))])],1)],1):e._e(),e._l(e.displayedHeaders,(function(r){return a("td",{key:r.value},[a("div",{staticClass:"text-truncate",style:{width:r.width}},[e._t(r.value,[e._v(e._s(t.item[r.value]))],{value:t.item[r.value],props:t})],2)])})),a("td",{staticClass:"justify-center layout px-0"},[e._t("actions",null,{props:t})],2)],2)]}},{key:"expand",fn:function(t){return[e._t("expand",null,null,t)]}}],null,!0)},[a("template",{slot:"no-data"},[a("v-alert",{staticStyle:{"border-radius":"5px"},attrs:{value:!0,icon:"mdi-info"}},[a("span",[e._v("No tienes información registada")]),a("br"),a("v-btn",{staticClass:"ma-0 ml-4",attrs:{text:"",color:"gray"}},[a("v-icon",[e._v("mdi-cached")]),e._v("Volver a intentar ")],1)],1)],1)],2),e.withPagination?a("div",{staticClass:"text-xs-center pt-2"},[a("v-pagination",{attrs:{length:e.pages,circle:""},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1):e._e()],1)},fe=[],ge=(a("99af"),a("4de4"),a("2909")),be={props:{headers:{type:Array},items:{type:Array},withPagination:{type:Boolean,default:!1},expand:{type:Boolean,default:!1}},data:function(){return{pagination:{rowsPerPage:300,totalItems:20}}},computed:{pages:function(){return null===this.pagination.rowsPerPage||null===this.totalItems?0:Math.ceil(this.totalItems/this.pagination.rowsPerPage)},totalItems:function(){return this.items.length},displayedHeaders:function(){return this.headers.filter((function(e){return!e.actions}))},formattedHeaders:function(){var e=this.expand?[{text:"",value:"expand",sortable:!1,align:"left",width:"10px"}]:[];return[].concat(e,Object(ge["a"])(this.headers))}}},he=be,we=Object(c["a"])(he,ve,fe,!1,null,null,null),xe=we.exports,ke={components:{Table:xe},props:["tripId","ticketId"],data:function(){return{headers:[{text:"Título",align:"start",sortable:!1,value:"title"},{text:"Número de páginas",value:"numberOfPages"},{text:"Status",value:"phase",color:"red"}],data:[],writer:this.$cookies.get("user_id"),role:this.$cookies.get("user_type")}},created:function(){this.initialize()},asyncComputed:{getTexts:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$cookies.get("token"),t.next=3,b.a.get("http://localhost:3000/api/texts/writer/".concat(e.writer),{headers:{Authorization:"Bearer "+a}});case 3:r=t.sent,console.log(r.data),e.data=r.data;case 6:case"end":return t.stop()}}),t)})))()}},methods:{initialize:function(){},getColor:function(e){return 0==e?"red":1==e?"green":"yellow"}}},ye=ke,je=Object(c["a"])(ye,me,pe,!1,null,null,null),_e=je.exports,Re={components:{typeOfUserSelection:ue,writerDashboard:_e},data:function(){return{writer:this.$cookies.get("user_id"),role:this.$cookies.get("user_type"),name:this.$cookies.get("user_name"),number:2}},methods:{}},Se=Re,Ee=Object(c["a"])(Se,se,ne,!1,null,null,null),Ce=Ee.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"background",staticStyle:{height:"100vh",overflow:"hidden"}},[a("v-card",{staticStyle:{"margin-right":"10%","margin-left":"10%","margin-top":"10%",height:"100vh"},attrs:{elevation:"10"}},[a("v-img",{staticStyle:{margin:"auto"},attrs:{src:"not-found.png",width:"300",position:"center center"}}),a("p",{staticClass:"display-4 font-weight-medium blue-grey--text text--darken-4 text-center mb-6"},[e._v(" Error 404 ")]),a("p",{staticClass:"display-1 blue-grey--text text--darken-3 text-center"},[e._v(" Pagina no encontrada ")])],1)],1)},Pe=[],Me={},Oe=Me,ze=(a("fdcb"),Object(c["a"])(Oe,$e,Pe,!1,null,"1fe957b7",null)),Ae=ze.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Géneros")]),a("br"),a("br"),a("div",{attrs:{align:"center"}},[a("v-form",{ref:"form"},[a("v-text-field",{staticStyle:{width:"50%"},attrs:{outlined:"",rules:[e.requiredRule,e.letterRule],label:"Agregar género"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("¡Se agrego el género!")]),a("v-card-text",[e._v("Serás reenviado a tu dashboard")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entrar")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Error al agregar el género")]),a("v-card-text",[e._v("Por favor, inténtelo más tarde")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogRepeat,callback:function(t){e.dialogRepeat=t},expression:"dialogRepeat"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("El género ya existe")]),a("v-card-text",[e._v("Ingrese un género que no exista dentro de la base de datos")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogRepeat=!1}}},[e._v("Entendido")])],1)],1)],1),a("v-btn",{staticClass:"btn btn-indigo",on:{click:e.create}},[e._v("Agregar")])],1),a("br"),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("h2",{staticClass:"primary--text"},[e._v("Géneros existentes")])]),e._l(e.genres,(function(t){return a("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[a("v-card",{attrs:{color:"purple"}},[a("v-card-text",[a("p",{staticStyle:{color:"white"}},[e._v(e._s(t.name))])])],1)],1)}))],2),a("br"),a("div",{attrs:{align:"center"}},[a("v-btn",{staticClass:"btn btn-indigo",on:{click:e.fill}},[e._v("LLenar géneros")])],1)],1)])},Te=[],Ie={data:function(){return{name:"",requiredRule:q,letterRule:B,dialogSuccess:!1,dialogError:!1,dialogRepeat:!1,genres:[]}},asyncComputed:{getGenres:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$cookies.get("token"),t.next=3,b.a.get("http://localhost:3000/api/user/genres",{headers:{Authorization:"Bearer "+a}});case 3:return r=t.sent,t.abrupt("return",e.genres=r.data);case 5:case"end":return t.stop()}}),t)})))()}},methods:{create:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!e.genres.some((function(t){return t.name===e.name}))){t.next=6;break}return e.dialogRepeat=!0,t.abrupt("return");case 6:return a=e.$cookies.get("token"),t.next=9,b.a.post("http://localhost:3000/api/admins/register/genres",{name:e.name},{headers:{Authorization:"Bearer "+a}});case 9:e.dialogSuccess=!0,location.reload(),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](2),console.log(t.t0.response.data),e.dialogError=!0;case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))()},fill:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$cookies.get("token"),t.next=4,b.a.post("http://localhost:3000/api/admins/fillGenres",{name:e.name},{headers:{Authorization:"Bearer "+a}});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0.response.data),e.dialogError=!0;case 10:location.reload();case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},De=Ie,Ne=Object(c["a"])(De,qe,Te,!1,null,null,null),Be=Ne.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"display-3 font-weight-medium",attrs:{align:"center"}},[e._v("Agregar Escrito")]),a("br"),a("v-form",{ref:"form"},[a("h2",{staticClass:"primary--text"},[e._v("Datos del Escrito")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"5"}},[a("v-text-field",{attrs:{outlined:"",label:"Título",rules:[e.requiredRule]},model:{value:e.text.title,callback:function(t){e.$set(e.text,"title",t)},expression:"text.title"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-text-field",{attrs:{outlined:"",label:"ID de Registro",rules:[e.requiredRule]},model:{value:e.text.registerNumber,callback:function(t){e.$set(e.text,"registerNumber",t)},expression:"text.registerNumber"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-text-field",{attrs:{outlined:"",label:"# de páginas",rules:[e.requiredRule,e.numericRule]},model:{value:e.text.numberOfPages,callback:function(t){e.$set(e.text,"numberOfPages",t)},expression:"text.numberOfPages"}})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-select",{attrs:{outlined:"",label:"Rango edad",items:e.ageRanges,rules:[e.requiredRule]},model:{value:e.text.ageRange,callback:function(t){e.$set(e.text,"ageRange",t)},expression:"text.ageRange"}})],1)],1),a("p",[e._v("Seleccionar géneros (Máximo 3)")]),a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.genres,(function(t){return a("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[a("v-switch",{attrs:{label:t.name,value:t._id,color:"success"},model:{value:e.text.genres,callback:function(t){e.$set(e.text,"genres",t)},expression:"text.genres"}})],1)})),1),a("v-layout",{staticClass:"justify-center",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-textarea",{attrs:{outlined:"",label:"Descripción",rules:[e.requiredRule]},model:{value:e.text.description,callback:function(t){e.$set(e.text,"description",t)},expression:"text.description"}})],1)],1),a("p",[e._v("Los archivos deberán subirse con el formato de Common Mark.")]),a("a",{attrs:{href:"https://commonmark.org/help/"}},[e._v("Presiona aquí para más información")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-file-input",{attrs:{accept:".md",label:"Subir Archivo",rules:[e.requiredRule]},model:{value:e.document,callback:function(t){e.document=t},expression:"document"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-dialog",{attrs:{width:"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.previewData}},r),[e._v("Vista Previa")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v("Previa visualización del escrito")]),a("v-card-text",{domProps:{innerHTML:e._s(e.data)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Escrito Registrado!")]),a("v-card-text",[e._v("Tu escrito ya se encuentra registrado")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"",href:"/"},on:{click:function(t){e.dialogSuccess=!1}}},[e._v("Entendido")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogError,callback:function(t){e.dialogError=t},expression:"dialogError"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.errorMessage.title))]),a("v-card-text",[e._v(e._s(e.errorMessage.text))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialogError=!1}}},[e._v("Entendido")])],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{align:"end"}},[a("v-btn",{attrs:{color:"success"},on:{click:e.create}},[e._v("Registrar")])],1)],1)],1)},Ge=[],Fe=(a("a4d3"),a("e01a"),a("e7d1")),He=a.n(Fe),Ke="https://silma.herokuapp.com",Ue={components:{},data:function(){return{text:{writer:this.$cookies.get("user_id"),title:"",registerNumber:"",description:"",genres:[],numberOfPages:"",ageRange:"",phase:1,documentPath:""},errorMessage:{title:"",text:""},dialogSuccess:!1,dialogError:!1,requiredRule:q,document:null,genres:[],ageRanges:C,numericRule:T,data:null,dialog:!1}},asyncComputed:{getGenres:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$cookies.get("token"),t.next=3,b.a.get("".concat(Ke,"/api/user/genres"),{headers:{Authorization:"Bearer "+a}});case 3:return r=t.sent,console.log(r.data),t.abrupt("return",e.genres=r.data);case 6:case"end":return t.stop()}}),t)})))()}},methods:{create:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(!(e.text.genres.length<1||e.text.genres.length>3)){t.next=6;break}return e.errorMessage=O,e.dialogError=!0,t.abrupt("return");case 6:if(!(e.text.description.length<20||e.text.description.length>200)){t.next=10;break}return e.errorMessage=z,e.dialogError=!0,t.abrupt("return");case 10:return t.prev=10,a=e.$cookies.get("token"),t.next=14,b.a.post("".concat(Ke,"/api/texts"),e.text,{headers:{"content-type":"application/json",Authorization:"Bearer "+a}});case 14:return r=t.sent,s=r.data._id,console.log(s),n=new FormData,n.append("document",e.document),console.log(">> formData >> ",n),console.log(n.get("text")),t.next=23,b.a.post("".concat(Ke,"/api/texts/").concat(s,"/uploads"),n,{headers:{Authorization:"Bearer "+a,"Content-Type":"multipart/form-data"}});case 23:o=t.sent,console.log(o),e.dialogSuccess=!0,t.next=33;break;case 28:t.prev=28,t.t0=t["catch"](10),console.log(t.t0.response.data),e.errorMessage=P,e.dialogError=!0;case 33:case"end":return t.stop()}}),t,null,[[10,28]])})))()},previewData:function(){var e=this;if(this.document){var t=new FileReader;t.readAsText(this.document),t.onload=function(){var a=new He.a.Parser,r=new He.a.HtmlRenderer,s=a.parse(t.result);e.data=r.render(s)}}else this.data="No se ha seleccionado ningún archivo"}}},Ye=Ue,Ve=Object(c["a"])(Ye,Le,Ge,!1,null,"32666a36",null),Ze=Ve.exports;r["default"].use(m["a"]);var Je=[{path:"/Registro_Lector",name:"RegisterReader",component:H},{path:"/Registro_Escritor",name:"RegisterWriter",component:Q},{path:"/Iniciar_Sesion",name:"LogIn",component:re},{path:"/Agregar_Escrito",name:"TextRegister",component:Ze,meta:{requiresAuth:!0,withAccess:["writer"]}},{path:"/Generos",name:"Genres",component:Be,meta:{requiresAuth:!0,withAccess:["admin"]}},{path:"/",name:"Dashboard",component:Ce,meta:{requiresAuth:!0,withAccess:["admin","reader","writer"]}},{path:"*",component:Ae}],Qe=new m["a"]({mode:"history",base:"/",routes:Je});Qe.beforeEach((function(e,t,a){var s=r["default"].$cookies.get("token"),n=r["default"].$cookies.get("user_type"),o=e.matched.some((function(e){return e.meta.requiresAuth}));if(!o||s&&n){var i=e.matched.map((function(e){return e.meta.withAccess||["admin","writer","reader"]})),l=i.some((function(e){return e.some((function(e){return e===n}))}));!o||l?a():a("Iniciar_Sesion")}else a("Iniciar_Sesion")}));var We=Qe,Xe=(a("bf40"),a("ce5b")),et=a.n(Xe);r["default"].use(et.a);var tt={},at=new et.a(tt),rt=a("2b27"),st=a.n(rt),nt=a("3003");r["default"].config.productionTip=!1,r["default"].use(st.a),r["default"].use(nt["a"]),new r["default"]({vuetify:at,router:We,render:function(e){return e(u)}}).$mount("#app")},fdcb:function(e,t,a){"use strict";var r=a("1dbf"),s=a.n(r);s.a}});
//# sourceMappingURL=app.9516cf66.js.map